---
# ===============================================
# MATTER SETUP
# Attorney/firm identification and matter
# management for multi-client sessions.
# ===============================================

# -----------------------------------------------
# Attorney setup (asked once per session)
# -----------------------------------------------
question: |
  Attorney & Firm Details
subquestion: |
  These details will appear on generated documents and are stored
  for this session only.
fields:
  - First Name: attorney.name.first
  - Last Name: attorney.name.last
  - Firm Name: attorney.firm
  - Email: attorney.email
    datatype: email
  - Phone: attorney.phone
    required: False
continue button field: attorney_setup_done
---
# -----------------------------------------------
# Matter initialisation
# -----------------------------------------------
question: |
  Add a New Client Matter
subquestion: |
  Enter the details for this client matter. You can add multiple
  matters in a single session.
fields:
  - Matter Reference: matters[i].matter_ref
    hint: e.g. SMITH-2026-001
  - Client Name (for reference): matters[i].client_name
list collect:
  enable: True
  label: Client Matters
generic object: DAList
---
# -----------------------------------------------
# Add another matter prompt
# -----------------------------------------------
question: |
  Add Another Client Matter?
subquestion: |
  You have completed the policy for **${ matters[i-1].org.name.text }**.
  Would you like to generate a policy for another client?
yesno: matters.there_is_another
---
code: |
  matters.there_are_any = True
