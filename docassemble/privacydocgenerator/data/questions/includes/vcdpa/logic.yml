---
# ===============================================
# VCDPA CLAUSE LOGIC
# ===============================================
code: |
  matters[i].vcdpa.include_opt_out_section = (
    matters[i].vcdpa.targeted_advertising or
    matters[i].vcdpa.sells_data or
    matters[i].vcdpa.profiling_opt_out
  )
sets: matters[i].vcdpa.include_opt_out_section
---
code: |
  matters[i].vcdpa.include_sensitive_data_section = (
    matters[i].vcdpa.processes_sensitive_data
  )
sets: matters[i].vcdpa.include_sensitive_data_section
---
code: |
  matters[i].vcdpa.include_pia_reference = matters[i].vcdpa.pia_completed
sets: matters[i].vcdpa.include_pia_reference
---
code: |
  matters[i].vcdpa.is_controller = (
    matters[i].vcdpa.role in ['Controller', 'Both']
  )
sets: matters[i].vcdpa.is_controller
