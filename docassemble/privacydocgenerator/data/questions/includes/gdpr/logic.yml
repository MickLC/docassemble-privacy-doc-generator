---
# ===============================================
# GDPR CLAUSE LOGIC
# Each variable declared separately so
# Docassemble knows when to evaluate each one.
# ===============================================
code: |
  matters[i].gdpr.include_consent_clause = matters[i].gdpr.lawful_bases.get(
    'Consent (Article 6(1)(a))', False
  )
sets: matters[i].gdpr.include_consent_clause
---
code: |
  matters[i].gdpr.include_legitimate_interests_clause = matters[i].gdpr.lawful_bases.get(
    'Legitimate interests (Article 6(1)(f))', False
  )
sets: matters[i].gdpr.include_legitimate_interests_clause
---
code: |
  matters[i].gdpr.include_special_category_clause = (
    matters[i].gdpr.processes_special_category
  )
sets: matters[i].gdpr.include_special_category_clause
---
code: |
  matters[i].gdpr.include_international_transfer_clause = (
    matters[i].gdpr.international_transfers
  )
sets: matters[i].gdpr.include_international_transfer_clause
---
code: |
  matters[i].gdpr.include_dpo_section = matters[i].gdpr.dpo_exists
sets: matters[i].gdpr.include_dpo_section
---
code: |
  matters[i].gdpr.include_children_clause = matters[i].data.types_collected.get(
    'Data relating to children (under 13 / under 16)', False
  )
sets: matters[i].gdpr.include_children_clause
---
code: |
  matters[i].gdpr.requires_dpia = requires_dpia(
    matters[i].data.types_collected,
    matters[i].data.purposes
  )
sets: matters[i].gdpr.requires_dpia
